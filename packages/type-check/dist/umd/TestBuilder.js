!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("TestBuilder",[],n):"object"==typeof exports?exports.TestBuilder=n():t.TestBuilder=n()}(this,(()=>(()=>{"use strict";var t={d:(n,e)=>{for(var r in e){t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};function e(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t){return}if("string"==typeof t){return r(t,n)}var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e){return Array.from(t)}if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)){return r(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,f=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){f=!0,u=t},f:function(){try{a||null==e.return||e.return()}finally{if(f){throw u}}}}}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++){r[e]=t[e]}return r}t.r(n),t.d(n,{addTypeTest:()=>at,default:()=>ut,testBuilder:()=>ut,typesMap:()=>z});var o={};!function(){if("undefined"!=typeof window){new MutationObserver((function(t){var n,r=e(t);try{for(r.s();!(n=r.n()).done;){if("childList"===n.value.type){for(var i in o){o[i]()}}}}catch(u){r.e(u)}finally{r.f()}})).observe(document.body,{childList:!0,subtree:!0})}}();function i(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t){return}if("string"==typeof t){return u(t,n)}var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e){return Array.from(t)}if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)){return u(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,f=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){f=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(f){throw i}}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++){r[e]=t[e]}return r}var a={};!function(){if("undefined"!=typeof window){new MutationObserver((function(t){var n,e=i(t);try{for(e.s();!(n=e.n()).done;){if("childList"===n.value.type){for(var r in a){a[r]()}}}}catch(o){e.e(o)}finally{e.f()}})).observe(document.body,{childList:!0,subtree:!0})}}();function f(t,n){if(t){if("string"==typeof t){return c(t,n)}var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++){r[e]=t[e]}return r}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==d(t)||"boolean"==typeof t?t:p(t)?n:t}var y=function(){return"kn__"+(new Date).getTime()+"__"+Math.floor(899*Math.random())};function p(t){return null==t||("string"==typeof t||Array.isArray(t)?0===t.length:t instanceof Map||t instanceof Set?0===t.size:ArrayBuffer.isView(t)?0===t.byteLength:"object"===l(t)&&0===Object.keys(t).length)}function d(t){var n=l(t);switch(t){case null:case void 0:case"":return null;case"0":case 0:return 0;default:if(!("number"!==n&&"string"!==n||"number"!=typeof t&&Number.isNaN(Number(t)))){return+t}}return null}function b(t,n){if(null===t){return n?null===n||"null"===n:"null"}var e;switch(l(t)){case"number":case"string":case"boolean":case"undefined":case"bigint":case"symbol":case"function":e=l(t);break;case"object":e=Array.isArray(t)?"array":"object";break;default:e="unknown"}if(n){if(n.includes("|")){var r,o=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=f(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==e.return||e.return()}finally{if(a){throw i}}}}}(n.split("|"));try{for(o.s();!(r=o.n()).done;){var i=r.value;if(e===i){return i}}}catch(u){o.e(u)}finally{o.f()}return!1}return n===e}return e}function m(t){if(t){if("string"!=typeof t){return t}for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++){e[r-1]=arguments[r]}return e.reduce((function(t,n){var e=n instanceof RegExp?n:new RegExp(A(n));return t.replace(e,"")}),t).trim()}}function v(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"]";if("string"!=typeof t){return t}var r=t.lastIndexOf(n);if(-1===r){return null}var o=t.substring(r),i=o.indexOf(e);return-1===i?null:o.substring(0,i+1)}function h(t){if(b(t,"object")||b(t,"array")){return t}var n=S(t,"{","}"),e=S(t,"[","]");if(!n&&!e){return t}var r=n?{}:[],o={},i=function(t){var n=t.match(/^(\[|\{)(.*?)(\]|\})$/);return n?n[2].trim():t}(t),u=function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];;){var n=t?v(i,"{","}"):v(i);if(!n){break}var e="__".concat(y(),"__");o[e]=n,i=i.replace(n,e)}};return u(),u(!0),g(i).forEach((function(t,e){var i,u,a=t.includes(":")&&n,f=a?g(t,":"):[],c=w(s(f[0],e));(t=a?f[1]:t)in o&&(t=h(o[t])),i=w(t),t=null!==(u=d(i))?u:i,n?r[c]=t:r.push(t)})),r}function g(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";if("string"!=typeof t){return t}if(p(t)){return[]}var e=(t=m(t)).split(n).map((function(t){return m(t)}));return 1===e.length&&""===e[0]?[t]:e}function w(t){return"string"!=typeof t?t:t.replace(/`|'|"/g,"")}function S(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(!n||t.startsWith(n))&&(!e||t.endsWith(e))}function A(t){return t instanceof RegExp?t:t.split("").map((function(t){return["$","^",".","*","+","?","(",")","[","]","{","}","|","\\"].includes(t)?"\\".concat(t):t})).join("")}function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function O(t,n){return function(t){if(Array.isArray(t)){return t}}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,u,a=[],f=!0,c=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e){return}f=!1}else{for(;!(f=(r=i.call(e)).done)&&(a.push(r.value),a.length!==n);f=!0){}}}catch(t){c=!0,o=t}finally{try{if(!f&&null!=e.return&&(u=e.return(),Object(u)!==u)){return}}finally{if(c){throw o}}}return a}}(t,n)||k(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,n){if(t){if("string"==typeof t){return I(t,n)}var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?I(t,n):void 0}}function I(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++){r[e]=t[e]}return r}var M,T,U,x,E,P,C,_,L,$,N,R,K,W,B;T="undefined"!=typeof window?window:void 0,U="undefined"!=typeof document?document:{},x=null==T?void 0:T.location,E=null==x?void 0:x.hash,P=null==x?void 0:x.href,C=null==x?void 0:x.search,_=null==x||null===(M=x.protocol)||void 0===M?void 0:M.replace(":",""),L=null==x?void 0:x.host,$=null==x?void 0:x.pathname,N="".concat(_,"://").concat(L),R="".concat(N).concat($),K=function(){if(W){return W}var t,n=new URLSearchParams(C),e={},r=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=k(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==e.return||e.return()}finally{if(a){throw i}}}}}(n.entries());try{for(r.s();!(t=r.n()).done;){var o=O(t.value,2),i=o[0],u=o[1];e[i]=u}}catch(a){r.e(a)}finally{r.f()}return W={params:n,queryString:n.toString(),search:C,keys:Array.from(n.keys()),values:Array.from(n.values()),collection:e}},W=null,B={getPage:function(){var t;return(null===(t=P)||void 0===t?void 0:t.toLowerCase()).split("/").pop().split(".")[0]||"index"},getParams:function(){return K()},getQuery:function(){return K().queryString},addToQuery:function(t){var n=K().collection;return Object.assign(n,t),{collection:n,queryString:Object.entries(n).map((function(t){var n=O(t,2),e=n[0],r=n[1];return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(r))})).join("&")}},getHash:function(){var t;return null===(t=E)||void 0===t?void 0:t.substring(1)},setHash:function(t){E=t},deleteHash:function(){history.pushState("",U.title,$+C)},goTo:function(t){return P=t,!1},open:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return T.open(t,n,e)},onChange:function(t){"function"==typeof t&&T.addEventListener("hashchange",t)},fullUrl:R,siteUrl:N,protocol:_,host:L,path:$,readUrl:P},"undefined"!=typeof window&&"object"!==("undefined"==typeof module?"undefined":j(module))?window.UrlHelper=B:"undefined"==typeof module||j(module);function H(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t){return}if("string"==typeof t){return q(t,n)}var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e){return Array.from(t)}if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)){return q(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==e.return||e.return()}finally{if(a){throw i}}}}}function q(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++){r[e]=t[e]}return r}function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function F(t,n){if(null===t){return n?null===n||"null"===n:"null"}var e;switch(D(t)){case"number":case"string":case"boolean":case"undefined":case"bigint":case"symbol":case"function":e=D(t);break;case"object":e=Array.isArray(t)?"array":"object";break;default:e="unknown"}if(n){if(n.includes("|")){var r,o=H(n.split("|"));try{for(o.s();!(r=o.n()).done;){var i=r.value;if(e===i){return i}}}catch(u){o.e(u)}finally{o.f()}return!1}return n===e}return e}function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}var z=new Map([["array",function(t){return F(t,"array")}],["bigInt",function(t){return"bigint"==typeof t}],["boolean",function(t){return"boolean"==typeof t}],["date",function(t){return t instanceof Date}],["float",function(t){return"number"==typeof t&&!Number.isInteger(t)}],["function",function(t){return"function"==typeof t}],["int",function(t){return Number.isInteger(t)}],["map",function(t){return t instanceof Map}],["null",function(t){return null===t}],["number",function(t){return"number"==typeof t}],["object",function(t){return F(t,"object")}],["promise",function(t){return t instanceof Promise}],["regExp",function(t){return t instanceof RegExp}],["set",function(t){return t instanceof Set}],["string",function(t){return"string"==typeof t}],["symbol",function(t){return"symbol"===Q(t)}],["undefined",function(t){return void 0===t}],["weakMap",function(t){return t instanceof WeakMap}],["weakSet",function(t){return t instanceof WeakSet}]]);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t){return function(t){if(Array.isArray(t)){return J(t)}}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"]){return Array.from(t)}}(t)||function(t,n){if(!t){return}if("string"==typeof t){return J(t,n)}var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e){return Array.from(t)}if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)){return J(t,n)}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++){r[e]=t[e]}return r}function X(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y(r.key),r)}}function Y(t){var n=function(t,n){if("object"!=V(t)||!t){return t}var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=V(r)){return r}throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==V(n)?n:n+""}var Z=new Map,tt=new Map;function nt(t){throw new Error('Type Error: "'.concat(t,'" is not supported'))}function et(t){if(F(t,"array")||F(t,"object")){return F(t)}var n=t.trim();return S(n,"[","]")?"array":S(n,"{","}")?"object":"basic"}var rt=function(t){return n=t,tt.has(n)?tt.get(n):n.split("|").reduce((function(t,e){var r=!1,o=e.trim();o.endsWith("?")&&(o=o.slice(0,-1),r=!0);var i=z.get(o),u=null!=i?i:nt(o);return u&&t.push(u),r&&t.push(z.get("null"),z.get("undefined")),tt.set(n,t),t}),[]);var n},ot=function(t){var n=[];return h(t).forEach((function(t){n.push(ut(t))})),n},it=function(t){return new(function(){return function(t,n,e){return n&&X(t.prototype,n),e&&X(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){return function(t,n){if(!(t instanceof n)){throw new TypeError("Cannot call a class as a function")}}(this,t),this.testUnit=new Map([["tests",new Map],["optionalKeys",[]],["testFew",[]],["testAllAny",!1],["testOnly",!1]]),this.handleObject()}),[{key:"checkOptionalKey",value:function(t){return t.endsWith("?")&&(t=t.slice(0,-1),this.testUnit.get("optionalKeys").push(t)),t}},{key:"checkTheAnyKey",value:function(t){if("any"in t){var n=Object.keys(t);1===n.length?this.testUnit.set("testAllAny",!0):this.testUnit.set("testFew",n.filter((function(t){return"any"!==t})))}}},{key:"handleObject",value:function(){var n=h(t);for(var e in this.checkTheAnyKey(n),n){var r=this.checkOptionalKey(e),o=n[e];"..."!==o?this.testUnit.get("tests").set(r,ut(o)):(delete n[e],this.testUnit.set("testOnly",!0))}return this.testUnit}}])}())};function ut(t){if(Z.has(t)){return Z.get(t)}var n=new Map([["testMethod",et(t)],["tests",null]]);switch(n.get("testMethod")){case"basic":n.set("tests",rt(t));break;case"array":n.set("tests",ot(t));break;case"object":var e=it(t);n=new Map([].concat(G(n),G(e)));break;default:nt(t)}return Z.set(t,n),n}var at=function(t,n){return z.has(t)?'"'.concat(t,'" already exists!'):(z.set(t,n),!0)};return n})()));